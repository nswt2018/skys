webpackJsonp([8],{240:function(e,t,a){"use strict";function r(e){d||a(805)}Object.defineProperty(t,"__esModule",{value:!0});var o=a(732),n=a.n(o);for(var i in o)"default"!==i&&function(e){a.d(t,e,function(){return o[e]})}(i);var l=a(808),s=a.n(l),d=!1,c=a(0),u=r,p=c(n.a,s.a,!1,u,null,null);p.options.__file="src\\views\\system\\parm\\sys-parm.vue",t.default=p.exports},267:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r={};r.format=function(e){if(e){var t=new Date(e),a=t.getMonth()+1,r=t.getDate();return t.getFullYear()+"-"+(a>=10?a:"0"+a)+"-"+(r>=10?r:"0"+r)}return""},t.default=r},710:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(9),n=r(o),i=a(5),l=r(i),s=a(267),d=(r(s),{}),c={"Content-Type":"application/json;charset=UTF-8"};d.setPage=function(e){this.spa=e},d.page=function(e){var t=this;n.default.ajax.post(this.spa.listurl,e,c).then(function(e){if(!e||!e.data)return void t.spa.$Modal.error({title:"提示",content:e.data.msg});t.spa.data_list=e.data.rows,t.spa.totalCount=e.data.totalCount}).catch(function(e){d.err(e)})},d.view=function(){1!=this.spa.selectedLines?this.spa.$Modal.warning({title:"提示信息",content:"必须且只能选中一条记录！"}):this.spa.viewModal=!0},d.add=function(){this.spa.addModal=!0},d.update=function(){1!=this.spa.selectedLines?this.spa.$Modal.warning({title:"提示信息",content:"必须选中一条记录！"}):this.spa.updModal=!0},d.delete=function(e){var t=this;this.spa.selectedLines<1?this.spa.$Modal.warning({title:"提示信息",content:"必须选中一条记录！"}):this.spa.$Modal.confirm({title:"确认信息",content:"确认要删除吗！",onOk:function(){n.default.ajax.delete(e,c).then(function(e){"000002"===e.data.code?(t.spa.$Message.success("删除成功!"),t.spa.selectedLines=0,t.spa.viewForm={},t.spa.updForm={},t.spa.deleteKey=[],d.page(t.spa.getSearch())):t.spa.$Modal.error({title:"错误信息",content:e.data.code+"\r\n"+e.data.msg+"\r\n"+e.data.excetion})}).catch(function(e){d.err(e)})}})},d.save=function(e){var t=this;this.spa.$refs[e].validate(function(a){if(a){var r=void 0,o=void 0;"addRef"===e?(r=t.spa.addForm,o=t.spa.saveurl):(r=t.spa.updForm,o=t.spa.updateurl),n.default.ajax.put(o,r,c).then(function(e){"000001"===e.data.code||"000003"===e.data.code?(t.spa.$Message.success("Success!"),t.spa.addModal=!1,t.spa.updModal=!1,d.page(t.spa.getSearch())):(t.spa.loading=!1,t.spa.$Modal.error({title:"错误信息",content:e.data.code+"\r\n"+e.data.msg+"\r\n"+e.data.excetion}))}).catch(function(e){t.spa.loading=!1,d.err(e)})}else t.spa.$Message.error("Fail!"),t.spa.loading=!1,t.spa.$nextTick(function(){t.spa.loading=!0})})},d.choice=function(e,t){this.spa.selectedLines=e.length,this.spa.viewForm=t,this.spa.updForm=t,this.spa.deleteKey.push(t.paraCode)},d.cancel=function(e,t){this.spa.selectedLines=e.length,this.spa.selectedLines>0?(this.spa.viewForm=e[0],this.spa.updForm=e[0],this.spa.deleteKey.splice(this.spa.deleteKey.indexOf(t.paraCode),1)):(this.spa.viewForm={},this.spa.updForm={},this.spa.deleteKey=[])},d.getButtons=function(){var e=this,t=l.default.get("allButtonRights");t?d.doButtonExt(JSON.parse(t)[1001]):n.default.ajax.post("/system/SY0005L2.do",{},c).then(function(a){if(!a.data)return void e.spa.$Message.error("从服务器端获取功能按钮权限出错!");console.log(a.data),l.default.set("allButtonRights",t=a.data),d.doButtonExt(t[1001])})},d.doButtonExt=function(e){if(!e)return void this.spa.$Message.error("没有取到相应的功能按钮权限!");this.spa.buttonInfos=e},d.err=function(e){this.spa.$Modal.error({title:"出错啦",content:e})},t.default=d},732:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(807),n=r(o),i=a(710),l=r(i),s=a(267),d=r(s),c=a(5),u=r(c);t.default={name:"parm-info",data:function(){return{listurl:"/system/SY0002L3.do",saveurl:"/system/SY0002I2.do",deleteurl:"/system/SY0002D2.do",updateurl:"/system/SY0002U2.do",categoryId:"",paraCode:"",addModal:!1,addForm:{},updModal:!1,updForm:{},viewModal:!1,viewForm:{},selectedLines:0,loading:!0,updloading:!0,data_list:[],pageSize:10,currentPage:1,totalPage:0,totalCount:0,buttonInfos:[{title:"查看",code:"100101",icon:"info",href:"view"},{title:"新增",code:"100102",icon:"primary",href:"add"},{title:"修改",code:"100103",icon:"warning",href:"upd"},{title:"删除",code:"100104",icon:"error",href:"del"}],columns:[],deleteKey:[],addRules:{categoryId:[{required:!0,message:"参数类别不能为空",trigger:"blur"}],paraCode:[{required:!0,message:"参数代码不能为空",trigger:"blur"}],paraName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],paraValue:[{required:!0,message:"参数值不能为空",trigger:"blur"}],paraDesc:[{required:!0,message:"参数描述不能为空",trigger:"blur"}]},updRules:{paraName:[{required:!0,message:"参数名称不能为空",trigger:"blur"}],paraValue:[{required:!0,message:"参数值不能为空",trigger:"blur"}],paraDesc:[{required:!0,message:"参数描述不能为空",trigger:"blur"}]}}},methods:{getSearch:function(){return{menuCode:u.default.get("menucode"),pageSize:this.pageSize,currentPage:this.currentPage,valObj:{categoryId:this.categoryId,paraCode:this.paraCode}}},init:function(){l.default.setPage(this),l.default.page(this.getSearch()),this.columns=n.default.getColumns()},searching:function(){l.default.page(this.getSearch())},onClicking:function(e){if("ADD"===e||"add"===e){l.default.add();var t=d.default.format(new Date);this.addForm={crtUserCode:"admin",crtOrgCode:"340321101",crtDate:t}}else"VIEW"===e||"view"===e?l.default.view():"DEL"===e||"del"===e?l.default.delete(this.deleteurl+"?paraCode="+this.deleteKey.join(",")):"UPD"!==e&&"upd"!==e||l.default.update()},saving:function(e){l.default.save(e)},reseting:function(e){this.$refs[e].resetFields()},choicing:function(e,t){l.default.choice(e,t)},cancing:function(e,t){l.default.cancel(e,t)},choicingAll:function(e){this.selectedLines=e.length,this.deleteKey=[];for(var t=0;t<this.selectedLines;t++)this.deleteKey.push(e[t].paraCode)},cancingAll:function(e){this.selectedLines=e.length,0==this.selectedLines&&(this.deleteKey=[])},changePage:function(e){var t=this.getSearch();t.currentPage=e,l.default.page(t)},changePageSize:function(e){var t=this.getSearch();t.pageSize=e,l.default.page(t)},exportData:function(e){1===e&&this.$refs.parmList.exportCsv({filename:"系统参数"})}},created:function(){this.init()},computed:{getFont:function(){var e=u.default.get("sizeValue"),t=this.$store.state.app.sizeFont;return e||t}}}},805:function(e,t,a){var r=a(806);"string"==typeof r&&(r=[[e.i,r,""]]),r.locals&&(e.exports=r.locals);a(11)("4589c0a6",r,!1,{})},806:function(e,t,a){t=e.exports=a(10)(!1),t.push([e.i,"\n.margin-top-8 {\n  margin-top: 8px;\n}\n.margin-top-10 {\n  margin-top: 10px;\n}\n.margin-top-20 {\n  margin-top: 20px;\n}\n.margin-left-10 {\n  margin-left: 10px;\n}\n.margin-bottom-10 {\n  margin-bottom: 10px;\n}\n.margin-bottom-100 {\n  margin-bottom: 100px;\n}\n.margin-right-10 {\n  margin-right: 10px;\n}\n.padding-left-6 {\n  padding-left: 6px;\n}\n.padding-left-8 {\n  padding-left: 5px;\n}\n.padding-left-10 {\n  padding-left: 10px;\n}\n.padding-left-20 {\n  padding-left: 20px;\n}\n.height-100 {\n  height: 100%;\n}\n.height-120px {\n  height: 100px;\n}\n.height-200px {\n  height: 200px;\n}\n.height-492px {\n  height: 492px;\n}\n.height-460px {\n  height: 460px;\n}\n.line-gray {\n  height: 0;\n  border-bottom: 2px solid #dcdcdc;\n}\n.notwrap {\n  word-break: keep-all;\n  white-space: nowrap;\n  overflow: hidden;\n  text-overflow: ellipsis;\n}\n.padding-left-5 {\n  padding-left: 10px;\n}\n[v-cloak] {\n  display: none;\n}\n",""])},807:function(e,t,a){"use strict";function r(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var o=a(3),n=(r(o),a(28)),i=(r(n),a(267)),l=r(i),s={};s.getColumns=function(){return[{type:"selection",width:60,align:"center"},{title:"参数类别",key:"categoryId",align:"center"},{title:"参数代码",key:"paraCode",align:"center"},{title:"参数名称",key:"paraName",align:"center"},{title:"参数值",key:"paraValue",align:"center"},{title:"参数描述",key:"paraDesc",align:"center"},{title:"创建人",key:"crtUserCode",align:"center"},{title:"创建人机构",key:"crtOrgCode",align:"center"},{title:"创建时间",key:"crtDate",align:"center",render:function(e,t){return e("div",l.default.format(t.row.crtDate))}}]},t.default=s},808:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("Row",[a("Card",[a("p",{attrs:{slot:"title"},slot:"title"},[a("Icon",{attrs:{type:"compose"}}),e._v("系统参数")],1),e._v(" "),a("Row",[a("p",[a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入参数类型",icon:"search"},on:{"on-change":e.searching},model:{value:e.categoryId,callback:function(t){e.categoryId=t},expression:"categoryId"}}),e._v(" "),a("Input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入参数代码",icon:"search"},on:{"on-change":e.searching},model:{value:e.paraCode,callback:function(t){e.paraCode=t},expression:"paraCode"}}),e._v(" "),e._l(e.buttonInfos,function(t,r){return a("Button",{key:t.code,staticStyle:{margin:"2px"},attrs:{size:e.getFont,type:t.icon},on:{click:function(a){e.onClicking(t.href)}}},[e._v(e._s(t.title))])})],2)]),e._v(" "),a("Row",[a("Table",{ref:"parmList",attrs:{"highlight-row":"",border:"",size:e.getFont,height:"410",columns:e.columns,stripe:!0,data:e.data_list},on:{"on-select":e.choicing,"on-select-cancel":e.cancing,"on-select-all":e.choicingAll,"on-selection-change":e.cancingAll}}),e._v(" "),a("div",{staticStyle:{float:"right"}},[a("Page",{attrs:{total:e.totalCount,current:1,"page-size":e.pageSize,transfer:!0,size:e.getFont,"show-total":"","show-elevator":"","show-sizer":""},on:{"on-change":e.changePage,"on-page-size-change":e.changePageSize}})],1),e._v(" "),a("Button",{attrs:{type:"primary",size:e.getFont},on:{click:function(t){e.exportData(1)}}},[a("Icon",{attrs:{type:"ios-download-outline"}}),e._v("导出原始数据")],1)],1),e._v(" "),a("Modal",{attrs:{width:"700",title:"系统参数信息查看"},model:{value:e.viewModal,callback:function(t){e.viewModal=t},expression:"viewModal"}},[a("Form",{attrs:{model:e.viewForm,"label-width":100}},[a("FormItem",{attrs:{label:"参数类别："}},[a("Input",{attrs:{readonly:!0},model:{value:e.viewForm.categoryId,callback:function(t){e.$set(e.viewForm,"categoryId",t)},expression:"viewForm.categoryId"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数代码："}},[a("Input",{attrs:{readonly:!0},model:{value:e.viewForm.paraCode,callback:function(t){e.$set(e.viewForm,"paraCode",t)},expression:"viewForm.paraCode"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数名称："}},[a("Input",{attrs:{readonly:!0},model:{value:e.viewForm.paraName,callback:function(t){e.$set(e.viewForm,"paraName",t)},expression:"viewForm.paraName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数值："}},[a("Input",{attrs:{readonly:!0},model:{value:e.viewForm.paraValue,callback:function(t){e.$set(e.viewForm,"paraValue",t)},expression:"viewForm.paraValue"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数描述："}},[a("Input",{attrs:{readonly:!0,type:"textarea",autosize:{minSize:2,maxSize:5}},model:{value:e.viewForm.paraDesc,callback:function(t){e.$set(e.viewForm,"paraDesc",t)},expression:"viewForm.paraDesc"}})],1),e._v(" "),a("FormItem",{attrs:{label:"创建人："}},[a("Input",{attrs:{readonly:!0},model:{value:e.viewForm.crtUserCode,callback:function(t){e.$set(e.viewForm,"crtUserCode",t)},expression:"viewForm.crtUserCode"}})],1),e._v(" "),a("FormItem",{attrs:{label:"创建人机构："}},[a("Input",{attrs:{readonly:!0},model:{value:e.viewForm.crtOrgCode,callback:function(t){e.$set(e.viewForm,"crtOrgCode",t)},expression:"viewForm.crtOrgCode"}})],1),e._v(" "),a("FormItem",{attrs:{label:"创建时间："}},[a("Input",{attrs:{readonly:!0},model:{value:e.viewForm.crtDate,callback:function(t){e.$set(e.viewForm,"crtDate",t)},expression:"viewForm.crtDate"}})],1)],1)],1),e._v(" "),a("Modal",{attrs:{width:"700",title:"系统参数信息","ok-text":"保存","cancel-text":"关闭","mask-closable":!1,loading:e.loading},on:{"on-ok":function(t){e.saving("addRef")},"on-cancel":function(t){e.reseting("addRef")}},model:{value:e.addModal,callback:function(t){e.addModal=t},expression:"addModal"}},[a("Form",{ref:"addRef",attrs:{model:e.addForm,rules:e.addRules,"label-width":100}},[a("FormItem",{attrs:{label:"参数类别：",prop:"categoryId",required:""}},[a("Input",{attrs:{placeholder:"请输入4位"},model:{value:e.addForm.categoryId,callback:function(t){e.$set(e.addForm,"categoryId",t)},expression:"addForm.categoryId"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数代码：",prop:"paraCode",required:""}},[a("Input",{attrs:{placeholder:"请输入"},model:{value:e.addForm.paraCode,callback:function(t){e.$set(e.addForm,"paraCode",t)},expression:"addForm.paraCode"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数名称：",prop:"paraName",required:""}},[a("Input",{model:{value:e.addForm.paraName,callback:function(t){e.$set(e.addForm,"paraName",t)},expression:"addForm.paraName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数值：",prop:"paraValue",required:""}},[a("Input",{model:{value:e.addForm.paraValue,callback:function(t){e.$set(e.addForm,"paraValue",t)},expression:"addForm.paraValue"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数描述：",prop:"paraDesc",required:""}},[a("Input",{attrs:{type:"textarea",autosize:{minSize:2,maxSize:5}},model:{value:e.addForm.paraDesc,callback:function(t){e.$set(e.addForm,"paraDesc",t)},expression:"addForm.paraDesc"}})],1),e._v(" "),a("FormItem",{attrs:{label:"创建人："}},[a("Input",{attrs:{readonly:!0},model:{value:e.addForm.crtUserCode,callback:function(t){e.$set(e.addForm,"crtUserCode",t)},expression:"addForm.crtUserCode"}})],1),e._v(" "),a("FormItem",{attrs:{label:"创建人机构："}},[a("Input",{attrs:{readonly:!0},model:{value:e.addForm.crtOrgCode,callback:function(t){e.$set(e.addForm,"crtOrgCode",t)},expression:"addForm.crtOrgCode"}})],1),e._v(" "),a("FormItem",{attrs:{label:"创建时间："}},[a("Input",{attrs:{readonly:!0},model:{value:e.addForm.crtDate,callback:function(t){e.$set(e.addForm,"crtDate",t)},expression:"addForm.crtDate"}})],1)],1)],1),e._v(" "),a("Modal",{attrs:{width:"700",title:"系统参数信息修改","ok-text":"修改","cancel-text":"关闭","mask-closable":!1,loading:e.updloading},on:{"on-ok":function(t){e.saving("updFormRef")},"on-cancel":function(t){e.reseting("updFormRef")}},model:{value:e.updModal,callback:function(t){e.updModal=t},expression:"updModal"}},[a("Form",{ref:"updFormRef",attrs:{model:e.updForm,rules:e.updRules,"label-width":100}},[a("FormItem",{attrs:{label:"参数类别："}},[a("Input",{attrs:{readonly:!0},model:{value:e.updForm.categoryId,callback:function(t){e.$set(e.updForm,"categoryId",t)},expression:"updForm.categoryId"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数代码："}},[a("Input",{attrs:{readonly:!0},model:{value:e.updForm.paraCode,callback:function(t){e.$set(e.updForm,"paraCode",t)},expression:"updForm.paraCode"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数名称：",prop:"paraName",required:""}},[a("Input",{model:{value:e.updForm.paraName,callback:function(t){e.$set(e.updForm,"paraName",t)},expression:"updForm.paraName"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数值：",prop:"paraValue",required:""}},[a("Input",{model:{value:e.updForm.paraValue,callback:function(t){e.$set(e.updForm,"paraValue",t)},expression:"updForm.paraValue"}})],1),e._v(" "),a("FormItem",{attrs:{label:"参数描述：",prop:"paraDesc",required:""}},[a("Input",{attrs:{type:"textarea",autosize:{minSize:2,maxSize:5}},model:{value:e.updForm.paraDesc,callback:function(t){e.$set(e.updForm,"paraDesc",t)},expression:"updForm.paraDesc"}})],1),e._v(" "),a("FormItem",{attrs:{label:"创建人："}},[a("Input",{attrs:{readonly:!0},model:{value:e.updForm.crtUserCode,callback:function(t){e.$set(e.updForm,"crtUserCode",t)},expression:"updForm.crtUserCode"}})],1),e._v(" "),a("FormItem",{attrs:{label:"创建人机构："}},[a("Input",{attrs:{readonly:!0},model:{value:e.updForm.crtOrgCode,callback:function(t){e.$set(e.updForm,"crtOrgCode",t)},expression:"updForm.crtOrgCode"}})],1),e._v(" "),a("FormItem",{attrs:{label:"创建时间："}},[a("Input",{attrs:{readonly:!0},model:{value:e.updForm.crtDate,callback:function(t){e.$set(e.updForm,"crtDate",t)},expression:"updForm.crtDate"}})],1)],1)],1)],1)],1)},o=[];r._withStripped=!0;var n={render:r,staticRenderFns:o};t.default=n}});