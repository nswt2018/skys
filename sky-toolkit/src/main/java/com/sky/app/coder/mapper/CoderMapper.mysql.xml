<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sky.app.core.CoderMapper">
   <select id="findBpForList" parameterType="String" resultType="Element">
	       select 
	         *
	       from 
	         BP_ELEMENT 
	       where 1=1 and MODU_CODE=#{moduCode}
	             
  </select>
  <select id="findBpForOne" parameterType="String" resultType="Element">
	       SELECT
				MODU_CODE,
				MODU_CNAME,
				MODU_TC,
				REL_TABLE,
				b.PACK_NAME,
				b.VUE_PATH,
				b.JAVA_PATH,
				C.COL_CODE,
				C.PK_GEN 
			FROM
				BP_MODULE a
				LEFT JOIN bp_systems b ON a.modu_code = b.mod_code 
				LEFT JOIN ( SELECT * FROM  BP_FIELD WHERE PK_GEN IS NOT NULL ) C ON A.REL_TABLE = C.TAB_CODE
			WHERE
				1 = 1 
				AND MODU_CODE = #{moduCode}
  </select>
</mapper>